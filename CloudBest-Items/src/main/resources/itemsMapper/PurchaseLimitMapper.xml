<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cloudbest.items.mapper.PurchaseLimitMapper">

    <resultMap id="purchaseLimitMap" type="com.cloudbest.items.entity.PurchaseLimit">
        <result property="id" column="id"/>
        <result property="itemId" column="item_id"/>
        <result property="skuId" column="sku_id"/>
        <result property="purchaseLimitFrequency" column="purchase_limit_frequency"/>
        <result property="purchaseLimitVolume" column="purchase_limit_volume"/>
        <result property="updateTime" column="update_time"/>
    </resultMap>

    <select id="selectByItemIdSkuId" resultMap="purchaseLimitMap" parameterType="com.cloudbest.items.entity.PurchaseLimit" >
        select
            id,
            item_id,
            sku_id,
            purchase_limit_frequency,
            purchase_limit_volume,
            update_time
        from c_purchase_limit
        where item_id = #{itemId} and sku_id = #{skuId}
    </select>

    <update id="updateById" parameterType="com.cloudbest.items.entity.PurchaseLimit">
    	update c_purchase_limit
        <set >
            <if test="purchaseLimitFrequency != null" >
                purchase_limit_frequency = #{purchaseLimitFrequency},
            </if>
            <if test="purchaseLimitVolume != null" >
                purchase_limit_volume = #{purchaseLimitVolume},
            </if>
            <if test="updateTime != null" >
                update_time = #{updateTime},
            </if>
        </set>
    	where id = #{id}
    </update>

</mapper>






















